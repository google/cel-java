// Copyright 2025 Google LLC
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
//      https://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.

/**
 * Generated by CEL-Java library. DO NOT EDIT!
 * Version: ${version}
 */

package ${package_name};

import dev.cel.protobuf.CelLiteDescriptor;
import java.util.ArrayList;
import java.util.Collections;
import java.util.HashMap;
import java.util.List;
import java.util.Map;

public final class ${descriptor_class_name} extends CelLiteDescriptor {

  private static final ${descriptor_class_name} DESCRIPTOR = new ${descriptor_class_name}();

  public static ${descriptor_class_name} getDescriptor() {
    return DESCRIPTOR;
  }

  private static List<MessageLiteDescriptor> newDescriptors() {
    List<MessageLiteDescriptor> descriptors = new ArrayList<>(${message_info_list?size});
    Map<String, FieldDescriptor> fieldDescriptors;
    <#list message_info_list as message_info>

    fieldDescriptors = new HashMap<>(${message_info.fieldInfoMap?size});
      <#list message_info.fieldInfoMap as key, value>
    fieldDescriptors.put("${key}", new FieldDescriptor(
      "${value.fullyQualifiedProtoFieldName}",
      "${value.javaType}",
      "${value.methodSuffixName}",
      "${value.celFieldValueType}",
      "${value.protoFieldType}",
      "${value.hasHasser}",
      "${value.fieldJavaClassName}",
      "${value.fieldProtoTypeName}"
      ));
      </#list>

    descriptors.add(
      new MessageLiteDescriptor(
        "${message_info.protoTypeName}",
        Void.class,
        Collections.unmodifiableMap(fieldDescriptors))
    );
    </#list>

    return Collections.unmodifiableList(descriptors);
  }

  private ${descriptor_class_name}() {
    super(newDescriptors());
  }
}